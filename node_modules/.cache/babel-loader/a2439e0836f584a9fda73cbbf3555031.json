{"ast":null,"code":"import _inherits from \"/home/monica.s@ah.zymrinc.com/task-management/task-management/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/monica.s@ah.zymrinc.com/task-management/task-management/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _wrapNativeSuper from \"/home/monica.s@ah.zymrinc.com/task-management/task-management/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper\";\nimport _slicedToArray from \"/home/monica.s@ah.zymrinc.com/task-management/task-management/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/home/monica.s@ah.zymrinc.com/task-management/task-management/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/monica.s@ah.zymrinc.com/task-management/task-management/node_modules/@babel/runtime/helpers/esm/createClass\";\n\n/* eslint-disable class-methods-use-this */\n\n/* eslint-disable max-classes-per-file */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport clonedeep from 'lodash.clonedeep';\nimport createProxyRoot from './helpers/proxyRoot';\nimport { EventProvider } from './components/EventContext';\nimport registeredPlugins from './plugins/plugins';\nimport getSerialized from './helpers/getSerialized';\n\nvar WebComponentFactory = /*#__PURE__*/function () {\n  function WebComponentFactory(componentProperties, rootComponent, shadow, anonymousSlot, plugins, connectCallback) {\n    _classCallCheck(this, WebComponentFactory);\n\n    this.componentProperties = componentProperties;\n    this.rootComponent = rootComponent;\n    this.shadow = shadow;\n    this.anonymousSlot = anonymousSlot;\n    this.plugins = plugins;\n    this.connectCallback = connectCallback;\n    this.componentAttributes = {};\n    this.reflectPropertiesToAttributes();\n  }\n  /**\n   * All properties with primitive values are added to attributes.\n   */\n\n\n  _createClass(WebComponentFactory, [{\n    key: \"reflectPropertiesToAttributes\",\n    value: function reflectPropertiesToAttributes() {\n      var _this = this;\n\n      Object.entries(this.componentProperties).forEach(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            key = _ref2[0],\n            value = _ref2[1];\n\n        if (typeof value !== 'number' && typeof value !== 'string' && typeof value !== 'boolean') {\n          return;\n        }\n\n        _this.componentAttributes[key.toLowerCase()] = {\n          property: key,\n          value: value\n        };\n      });\n    }\n    /**\n     * Create new class that will serve as the Web Component.\n     */\n\n  }, {\n    key: \"create\",\n    value: function create() {\n      var factory = this;\n      return /*#__PURE__*/function (_HTMLElement) {\n        _inherits(WebComponent, _HTMLElement);\n\n        var _super = _createSuper(WebComponent);\n\n        function WebComponent() {\n          var _this2;\n\n          _classCallCheck(this, WebComponent);\n\n          _this2 = _super.call(this);\n          _this2.initialProperties = clonedeep(factory.componentProperties);\n          _this2.properties = {};\n          _this2.hasConnected = false;\n          /**\n           * Dispatch an event from the Web Component\n           */\n\n          _this2.eventDispatcher = function (event) {\n            _this2.dispatchEvent(event);\n          };\n\n          _this2.transferInitialProperties();\n\n          _this2.subscribeToProperties();\n\n          return _this2;\n        }\n        /**\n         * Observe attributes for changes.\n         * Part of the Web Component Standard.\n         */\n\n\n        _createClass(WebComponent, [{\n          key: \"connectedCallback\",\n          value:\n          /**\n           * Web Component gets mounted on the DOM.\n           */\n          function connectedCallback() {\n            var _a;\n\n            this.mountReactApp({\n              initial: true\n            });\n            this.hasConnected = true;\n            (_a = factory.connectCallback) === null || _a === void 0 ? void 0 : _a.call(factory, this);\n          }\n          /**\n           * When an attribute is changed, this callback function is called.\n           * @param name name of the attribute\n           * @param oldValue value before change\n           * @param newValue value after change\n           */\n\n        }, {\n          key: \"attributeChangedCallback\",\n          value: function attributeChangedCallback(name, oldValue, newValue) {\n            if (!this.hasConnected) {\n              return;\n            }\n\n            if (oldValue === newValue) {\n              return;\n            }\n\n            if (!factory.componentAttributes.hasOwnProperty(name)) {\n              return;\n            }\n\n            var propertyName = factory.componentAttributes[name].property;\n            this.properties[propertyName] = getSerialized(newValue);\n            this.mountReactApp();\n          }\n          /**\n           * When a property is changed, this callback function is called.\n           * @param name name of the property\n           * @param oldValue value before change\n           * @param newValue value after change\n           */\n\n        }, {\n          key: \"propertyChangedCallback\",\n          value: function propertyChangedCallback(name, oldValue, newValue) {\n            if (!this.hasConnected) {\n              return;\n            }\n\n            if (oldValue === newValue) {\n              return;\n            }\n\n            this.properties[name] = newValue;\n            this.mountReactApp();\n          }\n          /**\n           * Web Component gets unmounted from the DOM.\n           */\n\n        }, {\n          key: \"disconnectedCallback\",\n          value: function disconnectedCallback() {\n            ReactDOM.unmountComponentAtNode(this);\n          }\n          /**\n           * Setup getters and setters for all properties.\n           * Here we ensure that the 'propertyChangedCallback' will get invoked\n           * when a property changes.\n           */\n\n        }, {\n          key: \"subscribeToProperties\",\n          value: function subscribeToProperties() {\n            var _this3 = this;\n\n            var propertyMap = {};\n            Object.keys(this.initialProperties).forEach(function (key) {\n              propertyMap[key] = {\n                configurable: true,\n                enumerable: true,\n                get: function get() {\n                  var currentValue = _this3.properties.hasOwnProperty(key) ? _this3.properties[key] : _this3.initialProperties[key];\n                  return currentValue;\n                },\n                set: function set(newValue) {\n                  var oldValue = _this3.properties.hasOwnProperty(key) ? _this3.properties[key] : _this3.initialProperties[key];\n\n                  _this3.propertyChangedCallback(key, oldValue, newValue);\n                }\n              };\n            });\n            Object.defineProperties(this, propertyMap);\n          }\n          /**\n           * Syncronize all properties and attributes\n           */\n\n        }, {\n          key: \"syncronizePropertiesAndAttributes\",\n          value: function syncronizePropertiesAndAttributes() {\n            var _this4 = this;\n\n            Object.keys(this.initialProperties).forEach(function (key) {\n              if (_this4.properties.hasOwnProperty(key)) {\n                return;\n              }\n\n              if (_this4.getAttribute(key) !== null) {\n                _this4.properties[key] = getSerialized(_this4.getAttribute(key));\n                return;\n              }\n\n              _this4.properties[key] = _this4.initialProperties[key];\n            });\n          }\n          /**\n           * Transfer initial properties from the custom element.\n           */\n\n        }, {\n          key: \"transferInitialProperties\",\n          value: function transferInitialProperties() {\n            var _this5 = this;\n\n            Object.keys(this.initialProperties).forEach(function (key) {\n              if (_this5.hasOwnProperty(key)) {\n                _this5.properties[key] = _this5[key];\n              }\n            });\n          }\n          /**\n           * Apply plugins\n           */\n\n        }, {\n          key: \"applyPlugins\",\n          value: function applyPlugins(application) {\n            var _this6 = this;\n\n            var shadowChildren = [];\n            var applicationWithPlugins = registeredPlugins.reduce(function (app, currentPlugin) {\n              var pluginResult = currentPlugin(_this6, factory.plugins, app);\n\n              if (!pluginResult) {\n                return app;\n              }\n\n              var _pluginResult = _slicedToArray(pluginResult, 2),\n                  wrapper = _pluginResult[0],\n                  shadowChild = _pluginResult[1];\n\n              if (shadowChild) {\n                shadowChildren.push(shadowChild);\n              }\n\n              return wrapper;\n            }, application);\n            return [applicationWithPlugins, shadowChildren];\n          }\n          /**\n           * Generate react props based on properties and attributes.\n           */\n\n        }, {\n          key: \"reactProps\",\n          value: function reactProps() {\n            this.syncronizePropertiesAndAttributes();\n            return this.properties;\n          }\n          /**\n           * Mount React App onto the Web Component\n           */\n\n        }, {\n          key: \"mountReactApp\",\n          value: function mountReactApp(options) {\n            var _this7 = this;\n\n            var anonymousSlot = factory.anonymousSlot ? React.createElement('slot') : undefined;\n            var application = React.createElement(EventProvider, {\n              value: this.eventDispatcher\n            }, React.createElement(factory.rootComponent, this.reactProps(), anonymousSlot));\n\n            var _this$applyPlugins = this.applyPlugins(application),\n                _this$applyPlugins2 = _slicedToArray(_this$applyPlugins, 2),\n                applicationWithPlugins = _this$applyPlugins2[0],\n                shadowChildren = _this$applyPlugins2[1];\n\n            if (!factory.shadow) {\n              ReactDOM.render(applicationWithPlugins, this);\n              return;\n            }\n\n            var currentChildren;\n\n            if (options === null || options === void 0 ? void 0 : options.initial) {\n              currentChildren = Array.from(this.children).map(function (child) {\n                return child.cloneNode(true);\n              });\n            }\n\n            var root = createProxyRoot(this, shadowChildren);\n            ReactDOM.render(React.createElement(root.open, null, applicationWithPlugins), this);\n\n            if (currentChildren) {\n              currentChildren.forEach(function (child) {\n                return _this7.append(child);\n              });\n            }\n          }\n        }], [{\n          key: \"observedAttributes\",\n          get: function get() {\n            return Object.keys(factory.componentAttributes);\n          }\n        }]);\n\n        return WebComponent;\n      }( /*#__PURE__*/_wrapNativeSuper(HTMLElement));\n    }\n  }]);\n\n  return WebComponentFactory;\n}();\n\nexport default WebComponentFactory;","map":{"version":3,"names":["React","ReactDOM","clonedeep","createProxyRoot","EventProvider","registeredPlugins","getSerialized","WebComponentFactory","componentProperties","rootComponent","shadow","anonymousSlot","plugins","connectCallback","componentAttributes","reflectPropertiesToAttributes","Object","entries","forEach","key","value","toLowerCase","property","factory","initialProperties","properties","hasConnected","eventDispatcher","event","dispatchEvent","transferInitialProperties","subscribeToProperties","_a","mountReactApp","initial","call","name","oldValue","newValue","hasOwnProperty","propertyName","unmountComponentAtNode","propertyMap","keys","configurable","enumerable","get","currentValue","set","propertyChangedCallback","defineProperties","getAttribute","application","shadowChildren","applicationWithPlugins","reduce","app","currentPlugin","pluginResult","wrapper","shadowChild","push","syncronizePropertiesAndAttributes","options","createElement","undefined","reactProps","applyPlugins","render","currentChildren","Array","from","children","map","child","cloneNode","root","open","append","HTMLElement"],"sources":["/home/monica.s@ah.zymrinc.com/task-management/task-management/node_modules/direflow-component/dist/WebComponentFactory.js"],"sourcesContent":["/* eslint-disable class-methods-use-this */\n/* eslint-disable max-classes-per-file */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport clonedeep from 'lodash.clonedeep';\nimport createProxyRoot from './helpers/proxyRoot';\nimport { EventProvider } from './components/EventContext';\nimport registeredPlugins from './plugins/plugins';\nimport getSerialized from './helpers/getSerialized';\nclass WebComponentFactory {\n    constructor(componentProperties, rootComponent, shadow, anonymousSlot, plugins, connectCallback) {\n        this.componentProperties = componentProperties;\n        this.rootComponent = rootComponent;\n        this.shadow = shadow;\n        this.anonymousSlot = anonymousSlot;\n        this.plugins = plugins;\n        this.connectCallback = connectCallback;\n        this.componentAttributes = {};\n        this.reflectPropertiesToAttributes();\n    }\n    /**\n     * All properties with primitive values are added to attributes.\n     */\n    reflectPropertiesToAttributes() {\n        Object.entries(this.componentProperties).forEach(([key, value]) => {\n            if (typeof value !== 'number' && typeof value !== 'string' && typeof value !== 'boolean') {\n                return;\n            }\n            this.componentAttributes[key.toLowerCase()] = {\n                property: key,\n                value,\n            };\n        });\n    }\n    /**\n     * Create new class that will serve as the Web Component.\n     */\n    create() {\n        const factory = this;\n        return class WebComponent extends HTMLElement {\n            constructor() {\n                super();\n                this.initialProperties = clonedeep(factory.componentProperties);\n                this.properties = {};\n                this.hasConnected = false;\n                /**\n                 * Dispatch an event from the Web Component\n                 */\n                this.eventDispatcher = (event) => {\n                    this.dispatchEvent(event);\n                };\n                this.transferInitialProperties();\n                this.subscribeToProperties();\n            }\n            /**\n             * Observe attributes for changes.\n             * Part of the Web Component Standard.\n             */\n            static get observedAttributes() {\n                return Object.keys(factory.componentAttributes);\n            }\n            /**\n             * Web Component gets mounted on the DOM.\n             */\n            connectedCallback() {\n                var _a;\n                this.mountReactApp({ initial: true });\n                this.hasConnected = true;\n                (_a = factory.connectCallback) === null || _a === void 0 ? void 0 : _a.call(factory, this);\n            }\n            /**\n             * When an attribute is changed, this callback function is called.\n             * @param name name of the attribute\n             * @param oldValue value before change\n             * @param newValue value after change\n             */\n            attributeChangedCallback(name, oldValue, newValue) {\n                if (!this.hasConnected) {\n                    return;\n                }\n                if (oldValue === newValue) {\n                    return;\n                }\n                if (!factory.componentAttributes.hasOwnProperty(name)) {\n                    return;\n                }\n                const propertyName = factory.componentAttributes[name].property;\n                this.properties[propertyName] = getSerialized(newValue);\n                this.mountReactApp();\n            }\n            /**\n             * When a property is changed, this callback function is called.\n             * @param name name of the property\n             * @param oldValue value before change\n             * @param newValue value after change\n             */\n            propertyChangedCallback(name, oldValue, newValue) {\n                if (!this.hasConnected) {\n                    return;\n                }\n                if (oldValue === newValue) {\n                    return;\n                }\n                this.properties[name] = newValue;\n                this.mountReactApp();\n            }\n            /**\n             * Web Component gets unmounted from the DOM.\n             */\n            disconnectedCallback() {\n                ReactDOM.unmountComponentAtNode(this);\n            }\n            /**\n             * Setup getters and setters for all properties.\n             * Here we ensure that the 'propertyChangedCallback' will get invoked\n             * when a property changes.\n             */\n            subscribeToProperties() {\n                const propertyMap = {};\n                Object.keys(this.initialProperties).forEach((key) => {\n                    propertyMap[key] = {\n                        configurable: true,\n                        enumerable: true,\n                        get: () => {\n                            const currentValue = this.properties.hasOwnProperty(key)\n                                ? this.properties[key]\n                                : this.initialProperties[key];\n                            return currentValue;\n                        },\n                        set: (newValue) => {\n                            const oldValue = this.properties.hasOwnProperty(key)\n                                ? this.properties[key]\n                                : this.initialProperties[key];\n                            this.propertyChangedCallback(key, oldValue, newValue);\n                        },\n                    };\n                });\n                Object.defineProperties(this, propertyMap);\n            }\n            /**\n             * Syncronize all properties and attributes\n             */\n            syncronizePropertiesAndAttributes() {\n                Object.keys(this.initialProperties).forEach((key) => {\n                    if (this.properties.hasOwnProperty(key)) {\n                        return;\n                    }\n                    if (this.getAttribute(key) !== null) {\n                        this.properties[key] = getSerialized(this.getAttribute(key));\n                        return;\n                    }\n                    this.properties[key] = this.initialProperties[key];\n                });\n            }\n            /**\n             * Transfer initial properties from the custom element.\n             */\n            transferInitialProperties() {\n                Object.keys(this.initialProperties).forEach((key) => {\n                    if (this.hasOwnProperty(key)) {\n                        this.properties[key] = this[key];\n                    }\n                });\n            }\n            /**\n             * Apply plugins\n             */\n            applyPlugins(application) {\n                const shadowChildren = [];\n                const applicationWithPlugins = registeredPlugins.reduce((app, currentPlugin) => {\n                    const pluginResult = currentPlugin(this, factory.plugins, app);\n                    if (!pluginResult) {\n                        return app;\n                    }\n                    const [wrapper, shadowChild] = pluginResult;\n                    if (shadowChild) {\n                        shadowChildren.push(shadowChild);\n                    }\n                    return wrapper;\n                }, application);\n                return [applicationWithPlugins, shadowChildren];\n            }\n            /**\n             * Generate react props based on properties and attributes.\n             */\n            reactProps() {\n                this.syncronizePropertiesAndAttributes();\n                return this.properties;\n            }\n            /**\n             * Mount React App onto the Web Component\n             */\n            mountReactApp(options) {\n                const anonymousSlot = factory.anonymousSlot ? React.createElement('slot') : undefined;\n                const application = (React.createElement(EventProvider, { value: this.eventDispatcher }, React.createElement(factory.rootComponent, this.reactProps(), anonymousSlot)));\n                const [applicationWithPlugins, shadowChildren] = this.applyPlugins(application);\n                if (!factory.shadow) {\n                    ReactDOM.render(applicationWithPlugins, this);\n                    return;\n                }\n                let currentChildren;\n                if (options === null || options === void 0 ? void 0 : options.initial) {\n                    currentChildren = Array.from(this.children).map((child) => child.cloneNode(true));\n                }\n                const root = createProxyRoot(this, shadowChildren);\n                ReactDOM.render(React.createElement(root.open, null, applicationWithPlugins), this);\n                if (currentChildren) {\n                    currentChildren.forEach((child) => this.append(child));\n                }\n            }\n        };\n    }\n}\nexport default WebComponentFactory;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}